<%-include("../layouts/adminLayout/header.ejs")%>
<%-include("../layouts/adminLayout/navbar.ejs")%>

<section class="card mb-4">
  <header class="card-header">
    <h4 class="card-title">Latest orders</h4>
    <div class="row align-items-center">
      <div class="col-md-3 col-12 me-auto mb-md-0 mb-3">
        <div class="custom_select">
          <select class="form-select select-nice">
            <option selected>All Categories</option>
            <!-- Add more category options if needed -->
          </select>
        </div>
      </div>
      <div class="col-md-2 col-6">
        <input type="date" value="02.05.2021" class="form-control" />
      </div>
      <div class="col-md-2 col-6">
        <div class="custom_select">
          <select class="form-select select-nice">
            <option selected>Status</option>
            <option>All</option>
            <option>Paid</option>
            <option>Chargeback</option>
            <option>Refund</option>
            <!-- Add more status options if needed -->
          </select>
        </div>
      </div>
    </div>
  </header>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table align-middle table-nowrap mb-0">
        <thead class="table-light">
          <tr>
            <th scope="col" class="text-center">
              <div class="form-check align-middle">
                <input class="form-check-input" type="checkbox" id="transactionCheck01" />
                <label class="form-check-label" for="transactionCheck01"></label>
              </div>
            </th>
            <th class="align-middle" scope="col">Name</th>
            <th class="align-middle" scope="col">Mobile</th>
            <th class="align-middle" scope="col">Email</th>
            <th class="align-middle" scope="col">Joined Date</th>
            <th class="align-middle" scope="col">isverified</th>
            <th class="align-middle" scope="col">isBlocked</th>
          </tr>
        </thead>
        <tbody>
          <% for(let user of users) { %>
          <tr>
            <td class="text-center">
              <div class="form-check align-middle">
                <input class="form-check-input" type="checkbox" id="transactionCheck<%= user._id %>" />
                <label class="form-check-label" for="transactionCheck<%= user._id %>"></label>
              </div>
            </td>
            <td><%= user.name %></td>
            <td><%= user.mobile %></td>
            <td><%= user.email %></td>
            <td><%= user.joinedDate %></td>
            <td><%= user.isverified %></td>
            <td><%= user.isBlocked %></td>
            <td>
              <% if(user.isBlocked === false)  { %>
              <div>
                <a href="/admin/block-user/<%= user._id %>">
                  <button type="button" class="btn btn-dark btn-icon-text">block</button>
                </a>
              </div>
              <% } else { %>
              <div>
                <a href="/admin/unblock-user/<%= user._id %>">
                  <button type="button" class="btn btn-dark btn-icon-text">unblock</button>
                </a>
              </div>
              <% } %>                                 
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </div>
    <!-- table-responsive end// -->
  </div>
</section>

<%-include("../layouts/adminLayout/footer.ejs")%>
